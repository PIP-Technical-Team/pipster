## code to prepare `pip_md` dataset goes here
library(acid)
library(dplyr)


#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## microdata --------

data(dist.para.t)
set.seed(123)
theta <-  c(1, 2, 2, 3)
p0    <- 0.1
p1    <- 0.3
p2    <- 0.6
n     <- 1000
welfare <- ysample.md(n, "LOGNO", "LOGNO", theta, p0, p1, p2, dist.para.t)

weight  <- sample(1e4, n, replace = TRUE)

pip_md <- tibble::tibble(welfare = welfare,
                         weight  = weight)



attr(pip_md$welfare,  "label") <- "welfare(income of consumption)"
attr(pip_md$weight,   "label") <- "population wieghts"


usethis::use_data(pip_md, overwrite = TRUE)



#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## imputed data --------
n_i <- 5

o <- sample(1:n, n*n_i, replace = TRUE)

pip_id <- tibble::tibble(welfare = welfare[o],
                          weight  = weight[o],
                          imputation_id = rep(c(1:n_i), n)
)



attr(pip_id$welfare,       "label") <- "welfare(income of consumption)"
attr(pip_id$weight,        "label") <- "population wieghts"
attr(pip_id$imputation_id, "label") <- "Imputation ID"


usethis::use_data(pip_id, overwrite = TRUE)

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
## small datarame  --------


Y <- c(1.51563819120072, 2.28593406114289, 2.8056911063637, 3.29475974014797, 3.56913289850317, 3.79950558524015, 3.92976857611256, 4.11366862055884, 4.43062557332279, 4.61386674566714, 4.87065432593744, 5.02199953372951, 5.26390088212938, 5.50212155531377, 5.67217667425714, 5.77157658915144, 5.99332994509451, 6.11297863252117, 6.23384294935789, 6.44098473466888, 6.55151140572172, 6.73503368948491, 6.85881089984315, 7.08561812171231, 7.24094512134623, 7.38390780306247, 7.55652670459716, 7.76021657172331,  7.88320577568343, 8.10332055583128, 8.30705688672869, 8.4944880699, 8.59377953487119, 8.7227679838569, 8.8275040377286, 8.97553193909988, 9.07723223115738, 9.20616268215281, 9.42189074907187, 9.51132146287688, 9.67463290113864, 9.8879791678841, 10.1046627110773, 10.2694273734397, 10.4402426346451, 10.6705896053102, 10.8314908228477, 11.0367929765695, 11.1489830796319, 11.3483917254969, 11.5274031106627, 11.7610267411454, 12.053854282319, 12.3041385944537, 12.3942435949753, 12.5208404762415, 12.8261600884129,  13.0023156913124, 13.3160680023317, 13.5848873974302, 13.7765602582309, 14.1828689348101, 14.5138030087597, 14.8966701808112, 15.2160121218379, 15.5235036944184, 15.8336701873774, 16.2844869296256, 16.6868835828032, 17.163173947183, 17.6143892433764, 18.0017054707465, 18.4837334319521, 19.0015756848317, 19.510035707499, 19.9882569667513, 20.8236419018546, 21.3705595777331, 21.7994457943473, 22.1814236045877, 22.6983874997541, 23.0346828811149, 23.6861385699686, 24.6479016446926, 25.181041067849,  25.7100784846874, 26.4512011960867, 27.8364858389509, 28.8872512991381, 31.0496148922943, 33.5328633413217, 34.8852456955922, 36.3097855038436, 39.2985673141473, 41.5152137347563, 44.3305325450976, 49.5371549529332, 53.6401573521662, 63.2297968322168, 90.0975827533449)/5

W <- c(148.832030665669, 861.869184741959, 753.80359012715, 787.644446522065, 680.662490650711, 889.665800299177, 835.005235602093, 744.138014210919, 631.03132011967, 59.6723074046373, 211.05959237098, 180.225504861631, 481.189884068811, 428.716379955123, 963.777711293943, 768.157068062826, 620.819895287959, 55.9157068062828, 744.457703814509, 80.5500373971578, 596.757105459984, 293.466753926702, 845.799925205684, 127.23937920718, 65.0167165295437, 982.369334330592, 538.93322737472, 304.913201196709,  1000.54958863126, 229.999551234106, 900.345680628273, 715.797531787585, 926.045942408378, 445.912266267764, 57.2846858638743, 200.823635003739, 311.681955871354, 288.483657442034, 715.706993268511, 181.051738967838, 988.774738219896, 558.520418848167, 146.126589379207, 706.08219895288, 443.189061331339, 194.593866866118, 623.515650710546, 281.93612565445, 4.34162303664922, 606.789154824233, 929.317258788331, 220.582460732984, 356.963444278235, 69.0510471204188, 267.023952879581, 870.5154263276, 145.374869109947,  285.938089005236, 343.880964846671, 227.054973821989, 874.782554225879, 899.026458489155, 551.543717277487, 838.777356020942, 28.3669970082274, 668.319839192222, 791.231413612566, 616.596091997008, 211.014267015707, 754.605833956619, 956.967726252804, 566.71643605086, 935.859162303664, 64.7954562453253, 619.012640239342, 205.367614061332, 979.03148840688, 942.429356768885, 65.0178010471203, 222.496671652954, 465.333956619297, 305.959685863874, 595.160695587135, 361.537172774869, 359.102206432311,  842.988743455498, 649.262715033658, 385.603889304412, 416.167539267016, 512.941753926702, 911.603964098729, 424.459891548243, 823.561780104712, 856.990370231863, 534.810471204188, 870.347438294689, 392.74195961107, 965.56916604338, 663.887434554974, 338.334480179506)


pip_md_s <- tibble::tibble(welfare = Y,
                          weight  = W)



attr(pip_md_s$welfare,  "label") <- "welfare(income of consumption)"
attr(pip_md_s$weight,   "label") <- "population wieghts"


usethis::use_data(pip_md_s, overwrite = TRUE)




